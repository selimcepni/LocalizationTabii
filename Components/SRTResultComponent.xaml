<?xml version="1.0" encoding="utf-8" ?>
<ContentView 
    x:Class="LocalizationTabii.Components.SRTResultComponent"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:buttons="clr-namespace:Syncfusion.Maui.Buttons;assembly=Syncfusion.Maui.Buttons"
    xmlns:viewmodels="clr-namespace:LocalizationTabii.ComponentModel"
    x:DataType="viewmodels:SRTResultViewModel">

    <ScrollView VerticalOptions="FillAndExpand">
        <StackLayout VerticalOptions="CenterAndExpand" Margin="20" Spacing="20">
            
            <!-- Ana zemin kartı -->
            <Border Style="{StaticResource CardStyle}">
                
                <Border.Shadow>
                    <Shadow Brush="{AppThemeBinding Light={StaticResource Gray200}, Dark=Transparent}" 
                            Opacity="0.15" 
                            Radius="12" 
                            Offset="0,4" />
                </Border.Shadow>
            
                <StackLayout VerticalOptions="Center" Spacing="28" Padding="28">
                    
                    <!-- Başarı göstergesi -->
                    <StackLayout Spacing="24" HorizontalOptions="Center">
                        <!-- Başarı ikonu -->
                        <Border 
                            BackgroundColor="{StaticResource SuccessColor}"
                            StrokeShape="RoundRectangle 50"
                            WidthRequest="100"
                            HeightRequest="100"
                            HorizontalOptions="Center">
                            <Border.Shadow>
                                <Shadow Brush="{StaticResource SuccessColor}" 
                                        Opacity="0.3" 
                                        Radius="16" 
                                        Offset="0,8" />
                            </Border.Shadow>
                            <Label 
                                Text="✓"
                                FontSize="48"
                                TextColor="White"
                                HorizontalOptions="Center"
                                VerticalOptions="Center"
                                FontAttributes="Bold" />
                        </Border>
                        
                        <!-- Başlık -->
                        <Label 
                            Text="İşlem Başarıyla Tamamlandı!"
                            Style="{StaticResource Headline}"
                            FontSize="24"
                            FontAttributes="Bold"
                            HorizontalOptions="Center"
                            TextColor="{StaticResource SuccessColor}" />
                            
                        <Label 
                            Text="{Binding ResultMessage}"
                            FontSize="16"
                            TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource DarkTextSecondaryColor}}"
                            HorizontalOptions="Center"
                            HorizontalTextAlignment="Center"
                            Margin="0,0,0,8" />
                    </StackLayout>

                    <!-- Dosya bilgileri -->
                    <StackLayout Spacing="16">
                        
                        <!-- Giriş dosyası -->
                        <Border 
                            BackgroundColor="{AppThemeBinding Light={StaticResource LightAccentColor}, Dark={StaticResource DarkAccentColor}}"
                            StrokeShape="RoundRectangle 16"
                            Stroke="Transparent"
                            StrokeThickness="0"
                            Padding="20,16">
                            
                            <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
                                <Border 
                                    Grid.Column="0"
                                    BackgroundColor="{AppThemeBinding Light={StaticResource Gray400}, Dark={StaticResource Gray600}}"
                                    StrokeShape="RoundRectangle 12"
                                    Padding="10"
                                    VerticalOptions="Center">
                                    <Image 
                                        Source="{StaticResource IconDocument24Regular}"
                                        WidthRequest="18"
                                        HeightRequest="18" />
                                </Border>
                                
                                <StackLayout Grid.Column="1" Spacing="4" VerticalOptions="Center">
                                    <Label 
                                        Text="Giriş Dosyası"
                                        FontSize="12"
                                        TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                        FontAttributes="Bold" />
                                    <Label 
                                        Text="{Binding InputFileName}"
                                        FontSize="14"
                                        FontAttributes="Bold"
                                        LineBreakMode="MiddleTruncation" />
                                </StackLayout>
                                
                                <Label 
                                    Grid.Column="2"
                                    Text="Orijinal"
                                    FontSize="12"
                                    TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                    VerticalOptions="Center" />
                            </Grid>
                        </Border>
                        
                        <!-- Ok işareti -->
                        <Label 
                            Text="↓"
                            FontSize="24"
                            HorizontalOptions="Center"
                            TextColor="{StaticResource SuccessColor}"
                            FontAttributes="Bold" />
                        
                        <!-- Çıktı dosyası -->
                        <Border 
                            BackgroundColor="{StaticResource SuccessColor}"
                            StrokeShape="RoundRectangle 16"
                            Stroke="Transparent"
                            StrokeThickness="0"
                            Padding="20,16">
                            
                            <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
                                <Border 
                                    Grid.Column="0"
                                    BackgroundColor="White"
                                    StrokeShape="RoundRectangle 12"
                                    Padding="10"
                                    VerticalOptions="Center">
                                    <Image 
                                        Source="{StaticResource IconDocument24Regular}"
                                        WidthRequest="18"
                                        HeightRequest="18" />
                                </Border>
                                
                                <StackLayout Grid.Column="1" Spacing="4" VerticalOptions="Center">
                                    <Label 
                                        Text="Çıktı Dosyası"
                                        FontSize="12"
                                        TextColor="White"
                                        FontAttributes="Bold"
                                        Opacity="0.8" />
                                    <Label 
                                        Text="{Binding OutputFileName}"
                                        FontSize="14"
                                        FontAttributes="Bold"
                                        TextColor="White"
                                        LineBreakMode="MiddleTruncation" />
                                </StackLayout>
                                
                                <Border 
                                    Grid.Column="2"
                                    BackgroundColor="White"
                                    StrokeShape="RoundRectangle 8"
                                    Padding="8,4"
                                    VerticalOptions="Center">
                                    <Label 
                                        Text="YENİ"
                                        FontSize="10"
                                        TextColor="{StaticResource SuccessColor}"
                                        FontAttributes="Bold" />
                                </Border>
                            </Grid>
                        </Border>
                        
                    </StackLayout>

                    <!-- İstatistikler -->
                    <Border 
                        BackgroundColor="{AppThemeBinding Light={StaticResource LightAccentColor}, Dark={StaticResource DarkAccentColor}}"
                        StrokeShape="RoundRectangle 16"
                        Stroke="Transparent"
                        StrokeThickness="0"
                        Padding="24,20">
                        
                        <StackLayout Spacing="16">
                            <Label 
                                Text="İşlem Özeti"
                                FontSize="16"
                                FontAttributes="Bold"
                                HorizontalOptions="Center" />
                                
                            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" RowSpacing="12" ColumnSpacing="16">
                                
                                <!-- İşlem Türü -->
                                <StackLayout Grid.Row="0" Grid.Column="0" Spacing="4">
                                    <Label 
                                        Text="İşlem Türü"
                                        FontSize="12"
                                        TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                        FontAttributes="Bold" />
                                    <Label 
                                        Text="{Binding OperationName}"
                                        FontSize="14"
                                        FontAttributes="Bold" />
                                </StackLayout>
                                
                                <!-- İşlem Süresi -->
                                <StackLayout Grid.Row="0" Grid.Column="1" Spacing="4">
                                    <Label 
                                        Text="İşlem Süresi"
                                        FontSize="12"
                                        TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                        FontAttributes="Bold" />
                                    <Label 
                                        Text="{Binding ProcessingDuration}"
                                        FontSize="14"
                                        FontAttributes="Bold" />
                                </StackLayout>
                                
                                <!-- Dosya Boyutu (Önce) -->
                                <StackLayout Grid.Row="1" Grid.Column="0" Spacing="4">
                                    <Label 
                                        Text="Orijinal Boyut"
                                        FontSize="12"
                                        TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                        FontAttributes="Bold" />
                                    <Label 
                                        Text="{Binding InputFileSize}"
                                        FontSize="14"
                                        FontAttributes="Bold" />
                                </StackLayout>
                                
                                <!-- Dosya Boyutu (Sonra) -->
                                <StackLayout Grid.Row="1" Grid.Column="1" Spacing="4">
                                    <Label 
                                        Text="Yeni Boyut"
                                        FontSize="12"
                                        TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                        FontAttributes="Bold" />
                                    <Label 
                                        Text="{Binding OutputFileSize}"
                                        FontSize="14"
                                        FontAttributes="Bold"
                                        TextColor="{StaticResource SuccessColor}" />
                                </StackLayout>
                                
                                <!-- Temizlenen Satır Sayısı -->
                                <StackLayout Grid.Row="2" Grid.ColumnSpan="2" Spacing="4" HorizontalOptions="Center">
                                    <Label 
                                        Text="Temizlenen Betimleme Satırları"
                                        FontSize="12"
                                        TextColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource DarkTextSecondaryColor}}"
                                        FontAttributes="Bold"
                                        HorizontalOptions="Center" />
                                    <Label 
                                        Text="{Binding CleanedLinesCount}"
                                        FontSize="18"
                                        FontAttributes="Bold"
                                        TextColor="{StaticResource SuccessColor}"
                                        HorizontalOptions="Center" />
                                </StackLayout>
                                
                            </Grid>
                        </StackLayout>
                    </Border>

                    <!-- Alt butonlar -->
                    <StackLayout Spacing="16" Margin="0,20,0,0">
                        
                        <!-- Ana aksiyon butonları -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                            <!-- Dosyayı Görüntüle -->
                            <buttons:SfButton 
                                Grid.Column="0"
                                Style="{StaticResource PrimaryButtonStyle}"
                                Text="Dosyayı Görüntüle"
                                Command="{Binding ViewFileCommand}"
                                WidthRequest="-1"
                                HorizontalOptions="FillAndExpand" />

                            <!-- Dosyayı Kaydet -->
                            <buttons:SfButton 
                                Grid.Column="1"
                                Style="{StaticResource SuccessButtonStyle}"
                                Text="Dosyayı Kaydet"
                                Command="{Binding SaveFileCommand}"
                                WidthRequest="-1"
                                HorizontalOptions="FillAndExpand" />
                        </Grid>
                        
                        <!-- İkincil aksiyon butonları -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                            <!-- Yeni İşlem -->
                            <buttons:SfButton 
                                Grid.Column="0"
                                Style="{StaticResource SecondaryButtonStyle}"
                                Text="Yeni İşlem"
                                Command="{Binding NewOperationCommand}"
                                WidthRequest="-1"
                                HorizontalOptions="FillAndExpand" />

                            <!-- Ana Sayfaya Dön -->
                            <buttons:SfButton 
                                Grid.Column="1"
                                Style="{StaticResource TertiaryButtonStyle}"
                                Text="Ana Sayfa"
                                Command="{Binding GoToHomeCommand}"
                                WidthRequest="-1"
                                HorizontalOptions="FillAndExpand" />
                        </Grid>
                    </StackLayout>
                    
                </StackLayout>
            </Border>
            
        </StackLayout>
    </ScrollView>
</ContentView> 